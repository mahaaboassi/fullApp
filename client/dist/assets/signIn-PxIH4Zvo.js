import{u as j,a as w,i as f,b as C,r as m,j as e,l as b,I as u,o as v,H as k,d as i,c as y,e as N,f as p}from"./index-BsB5gT7i.js";import{i as S}from"./logo_main-1HCAC2LR.js";const B=N({email:p().email("Invalid email format").required("Email is required"),password:p().min(6,"Password must be at least 6 characters long").required("Password is required")});function E(){const{t:a}=j(),t=w(),n=f(),{register:l,handleSubmit:h,formState:{errors:r}}=C({resolver:v(B),mode:"onChange"}),x=async d=>{o(!0);const{response:s,message:c}=await k({url:y.auth.signIn,method:"POST",body:{email:d.email,password:d.password}});s?(s.error==1?t(i({isOpen:!0,bgColor:"bg-error",message:s.message})):(localStorage.setItem("$user",JSON.stringify({name:s.data.name||"",email:s.data.email||"",role:s.data.role||"",id:s.data.userId||"",country_dial:s.data.country?s.data.country.country_dial:"",phone_number:s.data.country?s.data.country.phone_number:""})),localStorage.setItem("$-TOKEN",s.data.token),t(i({isOpen:!0,bgColor:"bg-successfully",message:c})),n("/")),o(!1)):(o(!1),t(i({isOpen:!0,bgColor:"bg-error",message:c})))},[g,o]=m.useState(!1);return m.useEffect(()=>{localStorage.getItem("$user")&&n("/"),window.scrollTo({top:0,behavior:"smooth"})},[]),e.jsxs("div",{className:"card-auth px-2  md:px-8",children:[e.jsx(b,{children:e.jsx("title",{children:"Foreshore | Sign In"})}),e.jsx("div",{className:"flex justify-center pb-5",children:e.jsx("img",{className:"w-20",src:S,alt:"logo"})}),e.jsxs("form",{onSubmit:h(x),children:[e.jsxs("div",{children:[e.jsx(u,{register:l("email"),placeholder:a("email"),icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:[e.jsx("path",{d:"M12.5 1.75H1.5C0.947715 1.75 0.5 2.19772 0.5 2.75V11.25C0.5 11.8023 0.947715 12.25 1.5 12.25H12.5C13.0523 12.25 13.5 11.8023 13.5 11.25V2.75C13.5 2.19772 13.0523 1.75 12.5 1.75Z",stroke:"#27CBBE",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M0.5 3L6.36 6.52424C6.53969 6.62973 6.76615 6.6875 7 6.6875C7.23385 6.6875 7.46031 6.62973 7.64 6.52424L13.5 3",stroke:"#27CBBE",strokeLinecap:"round",strokeLinejoin:"round"})]})}),r.email&&e.jsx("p",{className:"p-0.5 text-error",children:r.email.message})]}),e.jsxs("div",{className:"py-5",children:[e.jsx(u,{register:l("password"),isPassword:!0,type:"password",placeholder:a("password"),icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",children:[e.jsx("path",{d:"M13.3573 6.67871H3.643C2.97237 6.67871 2.42871 7.22237 2.42871 7.893V15.1787C2.42871 15.8494 2.97237 16.393 3.643 16.393H13.3573C14.0279 16.393 14.5716 15.8494 14.5716 15.1787V7.893C14.5716 7.22237 14.0279 6.67871 13.3573 6.67871Z",stroke:"#27CBBE",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12.75 6.67885V4.85742C12.75 3.73025 12.3023 2.64924 11.5052 1.85222C10.7082 1.05519 9.62717 0.607422 8.5 0.607422C7.37283 0.607422 6.29182 1.05519 5.4948 1.85222C4.69777 2.64924 4.25 3.73025 4.25 4.85742V6.67885",stroke:"#27CBBE",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M8.49972 12.143C8.83503 12.143 9.10686 11.8712 9.10686 11.5359C9.10686 11.2005 8.83503 10.9287 8.49972 10.9287C8.16441 10.9287 7.89258 11.2005 7.89258 11.5359C7.89258 11.8712 8.16441 12.143 8.49972 12.143Z",stroke:"#27CBBE",strokeLinecap:"round",strokeLinejoin:"round"})]})}),r.password&&e.jsx("p",{className:"p-0.5 text-error",children:r.password.message})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("input",{type:"checkbox"}),e.jsx("p",{children:a("remember-me")})]}),e.jsx("div",{children:e.jsxs("p",{className:"auth-link",children:[a("forget-password")," ?"]})})]}),e.jsx("div",{className:"w-full py-5",children:e.jsx("button",{type:"submit",className:"btn-main !w-full",children:g?e.jsx("div",{className:"loader  "}):a("submit")})})]})]})}export{E as default};
