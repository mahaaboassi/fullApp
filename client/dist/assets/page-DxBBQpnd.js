import{u as F,t as k,r as c,a as C,H as y,j as e,l as D,L as b,k as S,c as w,g as p,s as O,d as N}from"./index-BsB5gT7i.js";import{B as H}from"./banner-DdPLFTf9.js";import{b as I,S as $}from"./banner 03 back-BdkLI6UR.js";const z="/assets/1300x500-Cj-PWn2C.webp",A="/assets/500x500-explore-C24mkjXo.webp",B="/assets/explore%20700x500-JI5Dnu3M.webp";function R(){const{t:a,i18n:d}=F(),[n,E]=k(),[h,g]=c.useState(""),r=C(),v=[{img:window.innerWidth<=500?A:window.innerWidth<=700?B:z,background_img:I,count:0,title:a("destination-title-0"),hint:a("destination-hint-0")}],[_,u]=c.useState(!0),[m,x]=c.useState([]);c.useEffect(()=>{g("");const s=new AbortController,i=s.signal,t=n.get("city")||"",o=parseInt(n.get("guests"))||"",f=n.get("type")||"",l={page:1,limit:50};return t&&(l.city=t),f&&(l.type=f),o&&(l.guests=o),j(i,l),()=>s.abort()},[n]);const j=async(s,i)=>{x([]);const{response:t,message:o}=await y({url:w.property.getAllProperties,signal:s,params:i,method:"GET"});t?(x(t.data),u(!1)):(u(!1),o=="No properties found."&&(g(d.language=="en"?"No properties found ^_*.":"لا يوجد عقارات ^_*."),j(void 0,{page:1,limit:10})))},P=s=>{r(p({isOpen:!0,isForm:!0,component:e.jsxs("div",{style:d.language=="en"?{direction:"ltr"}:{direction:"rtl"},className:" bg-white",children:[e.jsx("h3",{className:"text-main weight-medium title-card ",children:a("book-your-property")}),e.jsxs("div",{children:[e.jsx("p",{className:"py-2",children:a("desc-your-property")}),e.jsx("div",{children:e.jsx(O,{returnedData:i=>{let t=i;t.message=`This message is from a user requesting to book this property ${s}.`,L(t)},withoutMessage:!0})})]})]})}))},L=async s=>{const{response:i,message:t}=await y({url:w.contact.contactUs,method:"POST",body:{email:s.email,name:s.name,phone_number:s.phone_number,country_dial:s.country_dial,message:s.message||""}});i?(r(p({isOpen:!1,isForm:!1,component:e.jsx(e.Fragment,{})})),r(N({isOpen:!0,message:t,bgColor:"bg-success"}))):(r(p({isOpen:!1,isForm:!1,component:e.jsx(e.Fragment,{})})),r(N({isOpen:!0,message:t,bgColor:"bg-error"})))};return e.jsxs("div",{className:"our-properties",children:[e.jsx(D,{children:e.jsx("title",{children:"Foreshore | Destinations"})}),e.jsx(H,{children:e.jsx($,{isDestinationPage:!0}),fromHomePage:!0,data:v}),h!=""&&e.jsx("div",{className:"flex capitalize justify-center pb-5",children:e.jsx("p",{className:"text-error py-4 font-medium",children:h})}),e.jsx("div",{className:"px-6 py-10  lg:px-10",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{className:"capitalize weight-semiBold",children:a("our-properties")})})}),_||m.length==0?e.jsxs("div",{className:"loading",children:[e.jsx("div",{className:"bounce"}),e.jsx("div",{className:"bounce"}),e.jsx("div",{className:"bounce"})]}):e.jsx("div",{className:"grid px-6  lg:px-10 gap-4 grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 ",children:m.length>0?m.map((s,i)=>{if(s.ready==1)return e.jsx("div",{className:"",children:e.jsxs("div",{className:"card-property cursor-pointer",children:[e.jsx(b,{to:`/property/${s._id}`,children:e.jsx("div",{className:"overflow-hidden h-32 sm:h-40 md:h-40 lg:h-52",children:e.jsx("img",{className:"!w-full rounded object-cover h-full",src:s.files.length>0?S+s.files[0].path:"",alt:"Proparty Image"})})}),e.jsxs("div",{className:"p-2",children:[e.jsx(b,{to:`/property/${s._id}`,children:e.jsx("h4",{className:"pb-1 flex items-center weight-regular",children:d.language=="en"?s.name_en?s.name_en:"":s.name_ar?s.name_ar:""})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("p",{className:"",children:[s.city?s.city:"",","," ",s.region?s.region:""]}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("g",{clipPath:"url(#clip0_17_4829)",children:e.jsx("path",{d:"M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z",fill:"#f59e0b"})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_17_4829",children:e.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}),e.jsx("p",{children:"4.3"})]})]}),e.jsx("div",{className:"mt-2 ",children:e.jsx("button",{onClick:()=>{P(s.rms_link)},className:"!w-full btn-main",children:a("book-now")})})]}),e.jsx("div",{})]})},`Card_Property_${i}_${s._id}`)}):e.jsx("div",{children:e.jsx("p",{children:"No Properties Yet."})})})]})}export{R as default};
