import{u as H,r as l,i as R,t as V,H as E,j as e,c as M}from"./index-BsB5gT7i.js";function $({isDestinationPage:b=!1}){const{t:a,i18n:g}=H(),[j,N]=l.useState([]),k=R(),[o,d]=l.useState({location:!1,type:!1,guest:!1}),[i,C]=l.useState({location:"",type:""}),[t,y]=V(),[n,h]=l.useState(1),[_,v]=l.useState(!1),m=l.useRef(null),u=l.useRef(null),x=l.useRef(null),p=(s,c)=>{C(r=>({...r,[s]:c})),d({location:!1,type:!1,guest:!1})},w=s=>{s=="pls"?n<7&&h(n+1):s=="min"&&n>1&&h(n-1)};l.useEffect(()=>{const s=new AbortController,c=s.signal,r=f=>{m.current&&!m.current.contains(f.target)&&u.current&&!u.current.contains(f.target)&&x.current&&!x.current.contains(f.target)&&d({location:!1,type:!1,guest:!1})};return document.addEventListener("click",r),S(c),()=>{document.removeEventListener("click",r),s.abort()}},[]),l.useEffect(()=>{C({location:t.get("city")||"",type:t.get("type")||""}),h(parseInt(t.get("guests"))||1),t.get("city")||t.get("type")||t.get("guests")?v(!0):v(!1)},[t]);const S=async s=>{const{response:c,message:r}=await E({url:M.type.getAllTypes,params:{page:1,limit:10},method:"GET",signal:s});c?N(c.data):console.log(r)},L=()=>{b?(i.location&&t.set("city",i.location),i.type&&t.set("type",i.type),n>1&&t.set("guests",n),y(t)):k(`/destinations?${i.location?`city=${i.location}&`:""}${i.type?`type=${i.type}&`:""}${n>1?`guests=${n}`:""}`)},z=()=>{t.delete("city"),t.delete("guests"),t.delete("type"),y(t)};return e.jsx("div",{className:" px-6  lg:px-28 ",children:e.jsxs("div",{className:"search-2-container grid grid-cols-2  sm:grid-cols-4 flex justify-between p-3 lg:p-5 gap-2 sm:gap-3 lg:gap-6",children:[e.jsx("div",{ref:m,className:"first flex items-center  gap-2",children:e.jsxs("div",{onClick:()=>d({location:!o.location,type:!1,guest:!1}),className:"semi-input relative flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 15 15",fill:"none",children:[e.jsx("g",{clipPath:"url(#clip0_203_2297)",children:e.jsx("path",{d:"M7.5 7.5C6.8125 7.5 6.25 6.9375 6.25 6.25C6.25 5.5625 6.8125 5 7.5 5C8.1875 5 8.75 5.5625 8.75 6.25C8.75 6.9375 8.1875 7.5 7.5 7.5ZM11.25 6.375C11.25 4.10625 9.59375 2.5 7.5 2.5C5.40625 2.5 3.75 4.10625 3.75 6.375C3.75 7.8375 4.96875 9.775 7.5 12.0875C10.0312 9.775 11.25 7.8375 11.25 6.375ZM7.5 1.25C10.125 1.25 12.5 3.2625 12.5 6.375C12.5 8.45 10.8313 10.9062 7.5 13.75C4.16875 10.9062 2.5 8.45 2.5 6.375C2.5 3.2625 4.875 1.25 7.5 1.25Z",fill:"#27cbbe"})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_203_2297",children:e.jsx("rect",{width:"15",height:"15",fill:"#27cbbe"})})})]})}),e.jsxs("div",{className:" items-center ",children:[a("location")," ","",i.location!=""&&e.jsxs("span",{className:"capitalize",style:{fontSize:"12px"},children:["(",i.location,")"]})]}),o.location&&e.jsx("div",{className:"absolute-card-2 min-w-40",children:e.jsxs("ul",{children:[e.jsx("li",{onClick:()=>{p("location",a("dubai"))},className:"capitalize dropdown-content p-1",children:a("dubai")}),e.jsx("li",{onClick:()=>{p("location",a("sharjah"))},className:"capitalize dropdown-content p-1",children:a("sharjah")}),e.jsx("li",{onClick:()=>{p("location",a("abo"))},className:"capitalize dropdown-content p-1",children:a("abo")})]})})]})}),e.jsx("div",{ref:u,className:"second flex items-center",children:e.jsxs("div",{onClick:()=>d({location:!1,type:!o.type,guest:!1}),className:"semi-input relative flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 15 16",fill:"none",children:e.jsx("path",{d:"M7.47965 0.000297778C7.34639 0.00477873 7.21807 0.0511048 7.11344 0.132507L1.19141 4.72617C0.439782 5.30939 0 6.2006 0 7.14279V14.9744C0 15.5338 0.473502 16 1.04167 16H5.20833C5.7765 16 6.25 15.5338 6.25 14.9744V10.8719C6.25 10.7508 6.3354 10.6668 6.45833 10.6668H8.54167C8.6646 10.6668 8.75 10.7508 8.75 10.8719V14.9744C8.75 15.5338 9.2235 16 9.79167 16H13.9583C14.5265 16 15 15.5338 15 14.9744V7.14279C15 6.2006 14.5602 5.30939 13.8086 4.72617L7.88656 0.132507C7.77098 0.0426112 7.62687 -0.00421137 7.47965 0.000297778ZM7.5 1.39931L13.0355 5.6933C13.4872 6.0438 13.75 6.57692 13.75 7.14279V14.7693H10V10.8719C10 10.0863 9.33956 9.43602 8.54167 9.43602H6.45833C5.66044 9.43602 5 10.0863 5 10.8719V14.7693H1.25V7.14279C1.25 6.57692 1.51281 6.0438 1.96452 5.6933L7.5 1.39931Z",fill:"#27cbbe"})})}),e.jsxs("div",{className:" items-center ",children:[a("type")," "," ",i.type!=""&&e.jsxs("span",{className:"capitalize",style:{fontSize:"12px"},children:["(",i.type,")"]})]}),o.type&&j.length>0&&e.jsx("div",{className:"absolute-card-2 min-w-40",children:e.jsx("ul",{children:j.map(s=>e.jsx("li",{onClick:()=>{p("type",g.language=="en"?s.name_en?s.name_en:"":s.name_ar?s.name_ar:"")},className:"capitalize dropdown-content p-1",children:g.language=="en"?s.name_en?s.name_en:"":s.name_ar?s.name_ar:""},`Types_Search_Card_${s._id}`))})})]})}),e.jsx("div",{ref:x,className:"third flex items-center ",children:e.jsxs("div",{onClick:()=>d({location:!1,type:!1,guest:!0}),className:"semi-input relative flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 20 19",fill:"none",children:[e.jsx("path",{d:"M9.99999 6.31179C11.4881 6.31179 12.6944 5.16577 12.6944 3.75209C12.6944 2.33841 11.4881 1.19238 9.99999 1.19238C8.5119 1.19238 7.30556 2.33841 7.30556 3.75209C7.30556 5.16577 8.5119 6.31179 9.99999 6.31179Z",stroke:"#27cbbe",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M14.7153 10.791C14.7153 9.60297 14.2185 8.4636 13.3342 7.62353C12.4499 6.78347 11.2506 6.31152 10 6.31152C8.74946 6.31152 7.55012 6.78347 6.66585 7.62353C5.78156 8.4636 5.28477 9.60297 5.28477 10.791V12.7108H7.3056L7.9792 17.8302H12.0208L12.6944 12.7108H14.7153V10.791Z",stroke:"#27cbbe",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsxs("div",{className:" items-center ",children:[a("guest")," "," ",e.jsxs("span",{style:{fontSize:"12px",display:"inline-block"},children:["(",n,")"]})]}),o.guest&&e.jsx("div",{className:"absolute-card-2 min-w-40",children:e.jsxs("div",{className:"flex justify-between p-3",children:[e.jsx("div",{style:{borderRadius:"50%"},onClick:()=>w("min"),className:"flex btn-2 justify-center cursor-pointer bg-main text-white items-center h-6 w-6",children:"-"}),e.jsx("div",{className:"flex justify-center items-center",children:n}),e.jsx("div",{style:{borderRadius:"50%"},onClick:()=>w("pls"),className:"flex btn-2 justify-center cursor-pointer bg-main text-white items-center h-6 w-6",children:"+"})]})})]})}),e.jsxs("div",{className:"fourth flex items-center gap-2",children:[_&&e.jsx("div",{onClick:z,className:"btn-search-2 flex capitalize items-center gap-2",children:e.jsx("div",{className:" items-center ",children:a("reset")})}),e.jsx("div",{onClick:L,className:"btn-search-2 capitalize flex items-center gap-2",children:e.jsx("div",{className:" items-center ",children:a("search")})})]})]})})}const T="/assets/banner%2003%20back-Cct1A3UK.webp";export{$ as S,T as b};
